<html>

  <head>
    <script>
        angular.module("login", []).controller('login', function ($scope, $http) {
            $scope.email = ""
            $scope.password = ""

            $scope.login = function () {
                $http({
                    method: 'POST',
                    url: '/login',
                    data: {e: $scope.email, p: $scope.password}
                }).then(function successCallback(response) {
                    // this callback will be called asynchronously
                    // when the response is available
                    window.location = "/threads"
                }, function errorCallback(response) {
                    // called asynchronously if an error occurs
                    // or server returns response with an error status.
                });
            }
        })
    </script>
  </head>

  <body ng-app = 'login' ng-controller = 'login'>
    <div class="row">
      <form class="col s12">
        <div class="row">
          <div class="input-field col s12">
            <input id="email" type="text" class="validate" ng-model="email">
            <label for="email">username</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
            <input id="password" type="password" class="validate" ng-model="password">
            <label for="password">Password</label>
          </div>
        </div>
        <a class="waves-effect waves-light btn" ng-click = "login()">Login</a>
      </form>
    </div>
  </body>

</html>